{% doc %}
  Renders a background image

  @param {object} background_image - The background image
  @param {string} background_image_position - The background image position
{% enddoc %}

{% stylesheet %}
  .background-image-container img {
    object-fit: cover;
    width: 100%;
    height: 100%;
  }

  .background-image-fit img {
    object-fit: contain;
  }
{% endstylesheet %}

<div
  class="background-image-container{% if background_image_position == 'fit' %} background-image-fit{% endif %} p-absolute top-0 left-0 right-0 bottom-0 o-hidden"
>
  {% liquid
    assign media_width_desktop = '100vw'
    assign media_width_mobile = '100vw'
    assign sizes = '(min-width: 750px) ' | append: media_width_desktop | append: ', ' | append: media_width_mobile
    assign widths = '300, 450, 600, 750, 900, 1050, 1200, 1350, 1500, 1650, 1800, 1950, 2000, 2500, 3000, 3500, 4000, 5000'
  %}

  {%- if background_image != blank -%}
    {{
      background_image
      | image_url: width: 3840
      | image_tag: height: height, sizes: sizes, widths: widths, loading: 'eager'
    }}
  {%- else -%}
    <div class="placeholder" style="--height_placeholder: 100%;">
      {{ 'hero-apparel-2' | placeholder_svg_tag: 'placeholder-svg' }}
    </div>
  {%- endif -%}
</div>
